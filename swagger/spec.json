{"openapi":"3.0.0","info":{"title":"API-StudyCard","version":"1.0.0"},"paths":{"/v1/card/all/{deck_id}":{"get":{"tags":["Card"],"parameters":[{"name":"deck_id","description":"deck's ID","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/CardsInDeckFound"},"400":{"$ref":"#/components/responses/ErrorJWT","description":"deck's id is NAN"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/mustBeClientOrAdmin"},"404":{"$ref":"#/components/responses/DeckNoFound"},"500":{"description":"Server error"}}}},"/v1/card/{card_id}":{"get":{"tags":["Card"],"parameters":[{"name":"card_id","description":"card's ID","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/CardFound"},"400":{"$ref":"#/components/responses/ErrorJWT","description":"card's ID is NAN"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/mustBeClientOrAdmin"},"404":{"$ref":"#/components/responses/NoCardFound"},"500":{"description":"Server error"}}}},"/v1/card":{"post":{"tags":["Card"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/CardToAdd"},"responses":{"204":{"$ref":"#/components/responses/CardAdd"},"400":{"$ref":"#/components/responses/ErrorJWT"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"500":{"description":"Server error"}}},"patch":{"tags":["Card"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/CardToUpdate"},"responses":{"201":{"$ref":"#/components/responses/CardUpdated"},"400":{"$ref":"#/components/responses/ErrorJWT"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"$ref":"#/components/responses/NoCardFound"},"500":{"description":"Server error"}}},"delete":{"tags":["Card"],"security":[{"bearerAuth":[]}],"responses":{"204":{"$ref":"#/components/responses/CardDeleted"},"400":{"$ref":"#/components/responses/ErrorJWT"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"$ref":"#/components/responses/NoCardFound"},"500":{"description":"Server error"}}}},"/v1/client/login":{"post":{"tags":["Client"],"description":"Send back a JWT token for the identification","requestBody":{"description":"login for connexion","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Login"}}}},"responses":{"201":{"description":"a JWT token","content":{"text/plain":{"schema":{"type":"string"}}}},"400":{"description":"Pseudo and/or password are empty"},"404":{"description":"Client not found"},"500":{"description":"Server error"}}}},"/v1/client/admin":{"post":{"tags":["Admin"],"description":"Send back a JWT token for the identification","requestBody":{"description":"login for connexion","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Admin"}}}},"responses":{"201":{"description":"a JWT token","content":{"text/plain":{"schema":{"type":"string"}}}},"400":{"description":"Pseudo and/or password are empty"},"404":{"description":"Admin not found"},"500":{"description":"Server error"}}}},"/v1/client":{"post":{"tags":["Client"],"requestBody":{"$ref":"#/components/requestBodies/ClientToAdd"},"responses":{"201":{"$ref":"#/components/responses/ClientAdd"},"400":{"$ref":"#/components/responses/IncorrectClientBody","description":"Pseudo or email already use"},"500":{"description":"Server error"}}},"patch":{"tags":["Client"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/ClientToUpdate"},"responses":{"204":{"$ref":"#/components/responses/ClientUpdated"},"400":{"$ref":"#/components/responses/ErrorJWT","description":"Wrong parameter(s)"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"$ref":"#/components/responses/ClientNotFound"},"500":{"description":"Server error"}}},"delete":{"tags":["Client"],"security":[{"bearerAuth":[]}],"responses":{"204":{"$ref":"#/components/responses/ClientDeleted"},"400":{"$ref":"#/components/responses/ErrorJWT"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"$ref":"#/components/responses/ClientNotFound"},"500":{"description":"Server error"}}}},"/v1/client/all":{"get":{"tags":["Client"],"security":[{"bearerAuth":[]}],"responses":{"200":{"$ref":"#/components/responses/ClientDeleted"},"400":{"$ref":"#/components/responses/ErrorJWT"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"$ref":"#/components/responses/NoClientFound"},"500":{"description":"Server error"}}}},"/v1/client/{pseudo}":{"get":{"tags":["Client"],"parameters":[{"name":"pseudo","description":"client's nickname","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"$ref":"#/components/responses/ClientFound"},"400":{"$ref":"#/components/responses/ErrorJWT"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/isMyAccountOrAdmin"},"404":{"$ref":"#/components/responses/ClientNotFound"},"500":{"description":"Server error"}}}},"/deck/all/{pseudo}":{"get":{"tags":["Decks"],"parameters":[{"name":"pseudo","description":"pseudo's owner of the deck(s)","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"$ref":"#/components/responses/DecksFound"},"400":{"$ref":"#/components/responses/ErrorJWT"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/mustBeClientOrAdmin"},"404":{"$ref":"#/components/responses/ClientNotFound"},"500":{"description":"Server error"}}}},"/deck/{id}":{"get":{"tags":["Deck"],"parameters":[{"name":"id","description":"deck's ID","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/DeckFound"},"400":{"$ref":"#/components/responses/ErrorJWT"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/mustBeClientOrAdmin"},"404":{"description":"Deck not found","$ref":"#/components/responses/ClientNotFound"},"500":{"description":"Server error"}}}},"/v1/deck":{"post":{"tags":["Deck"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/DeckToAdd"},"responses":{"201":{"$ref":"#/components/responses/DeckAdd"},"400":{"$ref":"#/components/responses/ErrorJWT"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"description":"Client not found"},"500":{"description":"Server error"}}},"patch":{"tags":["Deck"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/DeckToUpdate"},"responses":{"201":{"$ref":"#/components/responses/DeckUpdated"},"400":{"$ref":"#/components/responses/ErrorJWT"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"description":"Deck not found"},"500":{"description":"Server error"}}},"delete":{"tags":["Deck"],"security":[{"bearerAuth":[]}],"responses":{"204":{"$ref":"#/components/responses/DeckDeleted"},"400":{"$ref":"#/components/responses/ErrorJWT"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"404":{"description":"Deck not found"},"500":{"description":"Server error"}}}},"/v1/category/all/":{"get":{"tags":["RevisionsCategory"],"responses":{"200":{"$ref":"#/components/responses/RevisionCategoryFound"},"404":{"description":"Revision Category not found"},"500":{"description":"Server error"}}}},"/v1/category/{category_id}":{"get":{"tags":["RevisionCategory"],"parameters":[{"name":"category_id","description":"revision category's ID","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/RevisionCategoryFound"},"404":{"description":"Category not found"},"500":{"description":"Server error"}}}},"/v1/category":{"post":{"tags":["RevisionCategory"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/RevisionCategoryToUpdate"},"responses":{"201":{"$ref":"#/components/responses/RevisionCategoryUpdated"},"400":{"$ref":"#/components/responses/ErrorJWT"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"500":{"description":"Server error"}}},"delete":{"tags":["RevisionCategory"],"security":[{"bearerAuth":[]}],"responses":{"204":{"$ref":"#/components/responses/RevisionCategoryDeleted"},"400":{"$ref":"#/components/responses/ErrorJWT"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"500":{"description":"Server error"}}}},"/v1/session/{session_id}":{"get":{"tags":["Session"],"parameters":[{"name":"session_id","description":"session's ID","in":"path","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"$ref":"#/components/responses/SessionFound"},"400":{"$ref":"#/components/responses/ErrorJWT","description":"The id is not a number"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/mustBeClientOrAdmin"},"404":{"description":"Session not found"},"500":{"description":"Server error"}}}},"/v1/session":{"post":{"tags":["Session"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/SessionToAdd"},"responses":{"201":{"$ref":"#/components/responses/SessionAdd"},"400":{"$ref":"#/components/responses/ErrorJWT"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/mustBeClientOrAdmin"},"500":{"description":"Server error"}}},"patch":{"tags":["Session"],"security":[{"bearerAuth":[]}],"requestBody":{"$ref":"#/components/requestBodies/SessionToUpdate"},"responses":{"204":{"$ref":"#/components/responses/SessionUpdated"},"400":{"$ref":"#/components/responses/ErrorJWT"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/mustBeClientOrAdmin"},"500":{"description":"Server error"}}},"delete":{"tags":["Session"],"security":[{"bearerAuth":[]}],"responses":{"204":{"$ref":"#/components/responses/SessionDeleted"},"400":{"$ref":"#/components/responses/ErrorJWT"},"401":{"$ref":"#/components/responses/MissingJWT"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"500":{"description":"Server error"}}}}},"components":{"schemas":{"Admin":{"type":"object","properties":{"pseudo":{"type":"string"},"password":{"type":"string","format":"password"}},"required":["pseudo","password"]},"DeckOfCards":{"type":"array","items":{"$ref":"#/components/schemas/Card"}},"Card":{"type":"object","properties":{"id":{"type":"integer"},"deck_id":{"type":"integer"},"category_id":{"type":"integer"},"front_card":{"type":"string"},"back_card":{"type":"string"}}},"Login":{"type":"object","properties":{"pseudo":{"type":"string"},"password":{"type":"string","format":"password"}},"required":["pseudo","password"]},"Client":{"type":"object","properties":{"id":{"type":"integer"},"pseudo":{"type":"string"},"email":{"type":"string"},"is_admin":{"type":"boolean"}}},"ArrayOfClients":{"type":"array","items":{"$ref":"#/components/schemas/Client"}},"Deck":{"type":"object","properties":{"id":{"type":"integer"},"client":{"type":"object"},"items":{"$ref":"#/components/schemas/Client"},"deck_name":{"type":"string"}}},"Decks":{"type":"array","items":{"$ref":"#/components/schemas/Deck"}},"RevisionCategory":{"type":"object","properties":{"id":{"type":"integer"},"category_name":{"type":"string"},"difficulty_order":{"type":"integer"},"description":{"type":"string"}}},"ArrayOfRevisionsCategory":{"type":"array","items":{"$ref":"#/components/schemas/RevisionCategory"}},"Session":{"type":"object","properties":{"id":{"type":"integer"},"completed":{"type":"boolean"},"deck_id":{"type":"integer"}}}},"responses":{"CardsInDeckFound":{"description":"send back array of all cards in the deck","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeckOfCards"}}}},"DeckNoFound":{"description":"Deck not found"},"CardFound":{"description":"send a card","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Card"}}}},"NoCardFound":{"description":"Card not found"},"CardAdd":{"description":"The card has been  added to database"},"IncorrectCardBody":{"description":"At least one parameter in body is wrong or no parameter"},"CardUpdated":{"description":"The card has been updated"},"CardDeleted":{"description":"The card has been deleted"},"ClientFound":{"description":"send a client","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Client"}}}},"ClientNotFound":{"description":"Client not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Client"}}}},"ClientsFound":{"description":"send back array of all clients","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ArrayOfClients"}}}},"NoClientFound":{"description":"No Client found"},"ClientUpdated":{"description":"The client has been updated"},"ClientAdd":{"description":"The client has been  added to database"},"IncorrectClientBody":{"description":"At least one parameter in body is wrong or no parameter"},"ClientDeleted":{"description":"The client has been deleted"},"DeckFound":{"description":"send a deck","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Deck"}}}},"DecksFound":{"description":"send back array of all decks of an client","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Decks"}}}},"DeckAdd":{"description":"The deck has been added to database"},"IncorrectDeckBody":{"description":"At least one parameter in body is wrong or no parameter"},"DeckUpdated":{"description":"The deck has been updated"},"DeckDeleted":{"description":"The deck has been deleted"},"RevisionCategoryFound":{"description":"send a revision category","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RevisionCategory"}}}},"RevisionsCategoryFound":{"description":"send back array of all revisions category","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ArrayOfRevisionsCategory"}}}},"RevisionCategoryAdd":{"description":"The revision category has been  added to database"},"IncorrectCategoryBody":{"description":"At least one parameter in body is wrong or no parameter"},"RevisionCategoryUpdated":{"description":"The revision category has been updated"},"RevisionCategoryDeleted":{"description":"The revision category has been deleted"},"SessionFound":{"description":"send a session","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Session"}}}},"SessionAdd":{"description":"The session has been  added to database"},"IncorrectSessionBody":{"description":"At least one parameter in body is wrong or no parameter"},"SessionUpdated":{"description":"The session has been updated"},"SessionDeleted":{"description":"The session has been deleted"},"mustBeAdmin":{"description":"The requested action can only be performed by an administrator"},"mustBeClientOrAdmin":{"description":"The requested action can only be performed by a client or an administrator"},"isMyAccountOrAdmin":{"description":"The requested action can only be performed by the owner of this account or an admin"},"ErrorJWT":{"description":"the JWT is not valid"},"MissingJWT":{"description":"the JWT is not present"}},"requestBodies":{"CardToAdd":{"content":{"application/json":{"schema":{"properties":{"deck_id":{"type":"integer"},"category_id":{"type":"integer"},"front_card":{"type":"string"},"back_card":{"type":"string"}},"required":["deck_id","category_id","front_card"]}}}},"CardToUpdate":{"content":{"application/json":{"schema":{"properties":{"id":{"type":"integer"},"deck_id":{"type":"integer"},"category_id":{"type":"integer"},"front_card":{"type":"string"},"back_card":{"type":"string"}},"required":["id","deck_id","category_id","front_card"]}}}},"ClientToUpdate":{"content":{"application/json":{"schema":{"properties":{"id":{"type":"integer"},"pseudo":{"type":"string"},"password":{"type":"string","format":"password"},"email":{"type":"string"},"is_admin":{"type":"string"}},"required":["id","pseudo","password","email","is_admin"]}}}},"ClientToAdd":{"content":{"application/json":{"schema":{"properties":{"pseudo":{"type":"string"},"password":{"type":"string","format":"password"},"email":{"type":"string"},"is_admin":{"type":"boolean"}},"required":["pseudo","password","email","is_admin"]}}}},"DeckToAdd":{"content":{"application/json":{"schema":{"properties":{"pseudo":{"type":"string"},"deck_name":{"type":"string"}},"required":["pseudo","deck_name"]}}}},"DeckToUpdate":{"content":{"application/json":{"schema":{"properties":{"id":{"type":"integer"},"deck_name":{"type":"string"}},"required":["id","deck_name"]}}}},"RevisionCategoryToAdd":{"content":{"application/json":{"schema":{"properties":{"id":{"type":"integer"},"category_name":{"type":"string"},"difficulty_order":{"type":"integer"},"description":{"type":"string"}},"required":["id","category_name","difficulty_order","description"]}}}},"RevisionCategoryToUpdate":{"content":{"application/json":{"schema":{"properties":{"id":{"type":"integer"},"category_name":{"type":"string"},"difficulty_order":{"type":"integer"},"description":{"type":"string"}},"required":["id","category_name","difficulty_order","description"]}}}},"SessionToAdd":{"content":{"application/json":{"schema":{"properties":{"id":{"type":"integer"},"completed":{"type":"boolean"},"deck_id":{"type":"integer"}},"required":["id","completed","deck_id"]}}}},"SessionToUpdate":{"content":{"application/json":{"schema":{"properties":{"id":{"type":"integer"},"completed":{"type":"boolean"},"deck_id":{"type":"integer"}},"required":["id","completed","deck_id"]}}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}},"tags":[]}